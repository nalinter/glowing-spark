pipeline{
agent none
stages{
    stage('hello'){
        steps{
                input id: 'APPROVAL', message: 'DEPLOY PACKAGE TO SBX - APPROVAL', ok: 'APPROVE', submitter: 'nalinter@in.ibm.com'
        }
    }   
    stage('Regression-Suite PRE-SBX'){
        agent{
                node{
                label 'atlasdevops'
                }
            }
            steps{
                wrap([$class: 'Xvnc', takeScreenshot: false, useXauthority: true]) {
                    sh 'pwd'
                    sh '/root/Desktop/Atlastesting/integration/Atlas/mvn test -DsuiteXmlFile=SmokeTest.xml'
                }
                publishHTML([
                    allowMissing: false, 
                    alwaysLinkToLastBuild: false, 
                    escapeUnderscores: false, 
                    includes: '**/*.html',
                    keepAll: false, 
                    reportDir: '/root/Desktop/Atlastesting/Integration/Atlas/reports/', 
                    reportFiles: '*.html', 
                    reportName: 'PRE_SBX_Report', 
                    reportTitles: ''])
            }
   
        }
}
}
